-- Decompiled with the Synapse X Luau decompiler.

local v1 = {};
local v2 = require(game.ReplicatedStorage.Modules.Lightning);
local l__TweenService__3 = game.TweenService;
local l__Debris__4 = game.Debris;
local u1 = 0;
local u2 = require(game.ReplicatedStorage.Modules.CameraShaker);
local l__ReplicatedStorage__3 = game.ReplicatedStorage;
local u4 = require(game.ReplicatedStorage.Modules.Xeno);
function v1.RunStompFx(p1, p2, p3, p4)
	local v5 = os.time();
	if v5 - u1 < 20 then
		return;
	end;
	u1 = v5;
	if workspace:FindFirstChild(p3.Name .. "-BrolyPower") == nil then
		if p3.Character:FindFirstChild("BrolyAura") == nil then
			local v6 = game.ReplicatedStorage.KillFX.Carti.BrolyAura:Clone();
			v6.Parent = p3.Character;
			v6.Motor6D.Part1 = p3.Character.HumanoidRootPart;
			game.Debris:AddItem(v6, 10);
		end;
		local v7 = Instance.new("ColorCorrectionEffect", game.Lighting);
		v7.Name = "Son";
		game.Debris:AddItem(v7, 20);
		v7.Enabled = true;
		task.delay(0.5, function()
			game:GetService("TweenService"):Create(game.Lighting, TweenInfo.new(3.5, Enum.EasingStyle.Circular), {
				GeographicLatitude = 360, 
				FogEnd = 1000000
			}):Play();
			game:GetService("TweenService"):Create(v7, TweenInfo.new(3.5, Enum.EasingStyle.Circular), {
				Brightness = -0.1, 
				Contrast = 1, 
				TintColor = Color3.fromRGB(255, 0, 4), 
				Saturation = -0.5
			}):Play();
		end);
		local v8 = u2.new(Enum.RenderPriority.Camera.Value, function(p5)
			workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame * p5;
		end);
		v8:Start();
		v8:Shake(u2.Presets.Earthquake);
		game.ReplicatedStorage.MainEvent:FireServer();
		local v9 = l__ReplicatedStorage__3.KillFX[p1].Stomp:Clone();
		v9.Parent = workspace;
		v9:Play();
		game.Debris:AddItem(v9, 12);
		local v10 = game.ReplicatedStorage.KillFX.Carti.GokuBeam:Clone();
		local l__BeamOne__11 = v10.BeamOne;
		l__BeamOne__11.Parent = workspace.Terrain;
		l__BeamOne__11.WorldPosition = p2.Position;
		task.delay(0.5, function()
			l__BeamOne__11.Debris.Enabled = true;
			task.wait(3);
			l__BeamOne__11.Debris.Enabled = false;
			l__BeamOne__11.Debris.Drag = 5;
		end);
		local l__GeographicLatitude__5 = game.Lighting.GeographicLatitude;
		local l__Position__6 = p2.Position;
		delay(4, function()
			local v12 = u2.new(Enum.RenderPriority.Camera.Value, function(p6)
				workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame * p6;
			end);
			v12:Start();
			v12:Shake(u2.Presets.BoomDead);
			local v13 = l__ReplicatedStorage__3.KillFX[p1].Sound:Clone();
			v13.Parent = workspace;
			v13.TimePosition = 9;
			v13:Play();
			game.TweenService:Create(v13, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
				Volume = 0.25
			}):Play();
			game.Debris:AddItem(v13, 10);
			task.delay(5, function()
				game.TweenService:Create(v13, TweenInfo.new(1, Enum.EasingStyle.Quint), {
					Volume = 0
				}):Play();
			end);
			local v14 = l__ReplicatedStorage__3.KillFX[p1].shocwav:Clone();
			v14.Parent = workspace;
			v14:Play();
			game.Debris:AddItem(v14, 10);
			l__BeamOne__11.Debris.Drag = -10;
			game:GetService("TweenService"):Create(v7, TweenInfo.new(5, Enum.EasingStyle.Bounce, Enum.EasingDirection.InOut), {
				Brightness = 0.1, 
				Contrast = 0.8, 
				TintColor = Color3.fromRGB(255, 0, 4), 
				Saturation = 1
			}):Play();
			game:GetService("TweenService"):Create(game.Lighting, TweenInfo.new(5, Enum.EasingStyle.Circular), {
				GeographicLatitude = l__GeographicLatitude__5, 
				FogEnd = 500
			}):Play();
			v10.Parent = workspace.Ignored.Animations;
			v10.Anchored = true;
			v10.CanCollide = false;
			v10.Transparency = 0.2;
			v10.Material = Enum.Material.Neon;
			v10.Shape = Enum.PartType.Cylinder;
			game.Debris:AddItem(v10, 10);
			local v15 = Instance.new("Sound", v10);
			v15.SoundId = "rbxassetid://6808975002";
			v15.Volume = 1;
			v15:Play();
			local v16 = Vector3.new(l__Position__6.X, l__Position__6.Y + 1024, l__Position__6.Z);
			local v17 = Vector3.new(l__Position__6.X, l__Position__6.Y - 20, l__Position__6.Z);
			local v18, v19 = game.Workspace:FindPartOnRayWithIgnoreList(Ray.new(v16, (v17 - v16).unit * 2000), { workspace.Ignored, workspace.Players });
			local l__Magnitude__20 = (v16 - v19).Magnitude;
			v10.Size = Vector3.new(l__Magnitude__20, 0.5, 0.5);
			v10.CFrame = CFrame.new(v16, v17) * CFrame.new(0, 0, -l__Magnitude__20 / 2) * CFrame.Angles(0, 1.5707963267948966, 0);
			local l__Position__21 = CFrame.new(l__Position__6.X, l__Position__6.Y + 2, l__Position__6.Z).Position;
			local v22 = {
				WideSlam = {
					DebrisPositions = { l__Position__21, 200, 200 }, 
					Properties = {
						Range = math.random(20, 30), 
						Speed = 2, 
						Duration = 3, 
						origPos = l__Position__21, 
						newSize = Vector3.new(math.random(50, 70) / 3, math.random(50, 70) / 7, math.random(50, 70) / 3)
					}
				}
			};
			local v23 = u4.createCircle(unpack(v22.WideSlam.DebrisPositions));
			for v24 = 1, #v23 do
				local v25 = u4.RayCastOnMap(v23[v24], Vector3.new(0, -15, 0), true);
				if v25 then
					u4.spawnRubble(v25.Instance, v25.Position, v22.WideSlam.Properties);
				end;
			end;
			local v26 = game.ReplicatedStorage.KillFX.Carti.Wind:Clone();
			game:GetService("TweenService"):Create(v26, TweenInfo.new(6, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				Transparency = 1, 
				Size = Vector3.new(150, 1000, 150), 
				Orientation = Vector3.new(0, math.random(-9000, 9000), 0)
			}):Play();
			v26.Parent = v10;
			v26.Size = Vector3.new(300, l__Magnitude__20 / 2, 300);
			v26.Position = v10.Position;
			local v27 = game.ReplicatedStorage.KillFX.Carti.EXP:Clone();
			game:GetService("TweenService"):Create(v27, TweenInfo.new(6, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				Transparency = 1.1, 
				Size = Vector3.new(150, 1000, 150), 
				Orientation = Vector3.new(0, math.random(-9000, 9000), 0)
			}):Play();
			v27.Parent = v10;
			v27.Size = Vector3.new(300, l__Magnitude__20, 300);
			v27.Position = v10.Position;
			local v28 = game.ReplicatedStorage.KillFX.Carti.Crack:Clone();
			v28.Parent = workspace.Ignored;
			v28.Size = Vector3.new(300, 300, 0.1);
			v28.Position = v19 - Vector3.new(50, 0, 0);
			game:GetService("TweenService"):Create(v28, TweenInfo.new(6, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {
				Transparency = 1
			}):Play();
			local v29 = game.ReplicatedStorage.KillFX.Carti.ShockWaving:Clone();
			game:GetService("TweenService"):Create(v29, TweenInfo.new(6, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {
				Transparency = 1, 
				Size = Vector3.new(150, 1000, 150), 
				Orientation = Vector3.new(0, math.random(-9000, 9000), 0)
			}):Play();
			v29.Parent = v10;
			v29.Size = Vector3.new(100, 50, 100);
			v29.Position = Vector3.new(v10.Position.X, -v10.Position.Y, v10.Position.Z);
			local v30 = 0;
			for v31, v32 in pairs(game.ReplicatedStorage.KillFX.Carti:GetChildren()) do
				if v32.Name == "Shock" then
					local v33 = v32:Clone();
					v33.Parent = v10;
					v33.Size = Vector3.new(150, 25, 150);
					game:GetService("TweenService"):Create(v33, TweenInfo.new(3, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut), {
						Transparency = 1, 
						Size = Vector3.new(500, 50, 500), 
						Orientation = Vector3.new(0, math.random(-360, 420), 0)
					}):Play();
					v30 = v30 + 1;
					v33.CFrame = CFrame.new(v10.Position.X, l__Magnitude__20 / v30, v10.Position.Z);
				end;
			end;
			coroutine.wrap(function()
				delay(0, function()
					while true do
						for v34, v35 in pairs(v10:GetChildren()) do
							if v35:IsA("Beam") then
								v10.Attachment.WorldPosition = v10.Position + Vector3.new(0, v10.Size.X / 2, 0);
								v10.ATT.WorldPosition = v10.Position + Vector3.new(0, -v10.Size.X / 2, 0);
								v35.Width0 = v10.Size.Z / 1.2;
								v35.Width1 = v10.Size.Z / 1.2;
							end;
						end;
						task.wait();
						if v13.Volume == 0 and v10.Size.Z <= 0.01 then
							break;
						end;					
					end;
					game:GetService("TweenService"):Create(v7, TweenInfo.new(2, Enum.EasingStyle.Circular), {
						Brightness = 0, 
						Contrast = 0, 
						TintColor = Color3.fromRGB(255, 255, 255), 
						Saturation = 0
					}):Play();
				end);
				local v36 = game:GetService("TweenService"):Create(v10, TweenInfo.new(0.5), {
					Transparency = 0.8, 
					Size = Vector3.new(l__Magnitude__20, 300, 300)
				});
				v36:Play();
				v36.Completed:Wait();
				game:GetService("TweenService"):Create(v10, TweenInfo.new(6), {
					Transparency = 1, 
					Size = Vector3.new(l__Magnitude__20, 0, 0)
				}):Play();
			end)();
		end);
	else
		local v37 = l__ReplicatedStorage__3.KillFX[p1].BDD:Clone();
		v37.Parent = workspace;
		v37:Play();
		if p3.Character:FindFirstChild("BrolyAura") == nil then
			local v38 = game.ReplicatedStorage.KillFX.Carti.BrolyAura:Clone();
			v38.Parent = p3.Character;
			v38.Motor6D.Part1 = p3.Character.HumanoidRootPart;
			game.Debris:AddItem(v38, 10);
		end;
	end;
	return nil;
end;
return v1;
