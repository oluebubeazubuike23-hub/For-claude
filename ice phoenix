-- Decompiled with the Synapse X Luau decompiler.

local v1 = {};
local l__ReplicatedStorage__2 = game.ReplicatedStorage;
local v3 = require(game.ReplicatedStorage.Modules.Lightning);
local v4 = require(game.ReplicatedStorage.Modules.Xeno);
local v5 = require(game.ReplicatedStorage.Modules.CameraShaker);
local l__TweenService__6 = game.TweenService;
local l__Debris__7 = game.Debris;
local u1 = 0;
function v1.RunStompFx(p1, p2, p3, p4)
	local v8 = os.time();
	if v8 - u1 < 6 then
		return;
	end;
	u1 = v8;
	if workspace:FindFirstChild(p3.Name .. "-Ice Phoenix") == nil then
		local v9 = game.ReplicatedStorage.KillFX["Ice Phoenix"].bird:Clone();
		v9.Parent = workspace.Ignored.Animations;
		local v10, v11, v12 = CFrame.new(p3.Character.PrimaryPart.Position, p2.Position):ToEulerAnglesXYZ();
		v9.PrimaryPart.CFrame = CFrame.new(p2.Position) * CFrame.Angles(v10, v11, v12) * CFrame.new(0, 0, 45);
		v9.PrimaryPart.Orientation = Vector3.new(0, v9.PrimaryPart.Orientation.Y, v9.PrimaryPart.Orientation.Z);
		local v13 = v9.AnimationController:LoadAnimation(v9.Animation);
		v13:Play(0, 2, 1);
		local u2 = nil;
		local u3 = nil;
		u2 = v13:GetMarkerReachedSignal("Start"):Connect(function()
			local v14 = game.ReplicatedStorage.KillFX["Ice Phoenix"].Explosion:Clone();
			v14.Parent = v9;
			v14.CFrame = v9.Mesh.Control.TransformedWorldCFrame;
			for v15, v16 in pairs(v14:GetDescendants()) do
				if v16:IsA("ParticleEmitter") then
					v16.Enabled = true;
				end;
			end;
			task.delay(0.5, function()
				for v17, v18 in pairs(v14:GetDescendants()) do
					if v18:IsA("ParticleEmitter") then
						v18.Enabled = false;
					end;
				end;
			end);
			local v19 = Instance.new("Attachment", v9.Mesh);
			local v20 = Instance.new("Sound", v19);
			v20.SoundId = "rbxassetid://3518142230";
			v20.Volume = 4;
			v20:Play();
			local v21 = Instance.new("Attachment", v9.Mesh);
			local v22 = game.ReplicatedStorage.KillFX["Ice Phoenix"].Sound:Clone();
			v22.Parent = v19;
			v22:Play();
			local v23 = Instance.new("Sound", v19);
			v23.SoundId = "rbxassetid://3518142230";
			v23.Volume = 2;
			local v24 = Instance.new("Sound", v19);
			v24.SoundId = "rbxassetid://632919727";
			v24.Volume = 2;
			local v25 = Instance.new("Attachment", v9.Mesh);
			local v26 = Instance.new("Attachment", v9.Mesh);
			local v27 = game.ReplicatedStorage.KillFX["Ice Phoenix"].Trail:Clone();
			v27.Parent = v19;
			v27.Attachment0 = v19;
			v27.Attachment1 = v25;
			local v28 = game.ReplicatedStorage.KillFX["Ice Phoenix"].Trail:Clone();
			v28.Parent = v21;
			v28.Attachment0 = v21;
			v28.Attachment1 = v26;
			game.TweenService:Create(v9.Mesh, TweenInfo.new(1), {
				Transparency = 0
			}):Play();
			u2:Disconnect();
			local u4 = nil;
			u4 = v13:GetMarkerReachedSignal("Boost"):Connect(function()
				u4:Disconnect();
				local u5 = nil;
				u5 = v13:GetMarkerReachedSignal("Ice"):Connect(function()
					game.Debris:AddItem(v9, 5);
					v23:Play();
					for v29, v30 in pairs(v9.Mesh.EXPO:GetDescendants()) do
						v30.Enabled = true;
					end;
					task.delay(0.15, function()
						for v31, v32 in pairs(v9.Mesh.EXPO:GetDescendants()) do
							v32.Enabled = false;
						end;
						task.wait(0.25);
						u3:Disconnect();
					end);
					v13:AdjustSpeed(0.5);
					game.TweenService:Create(v9.Mesh, TweenInfo.new(0.4), {
						Transparency = 1, 
						Size = Vector3.new(0, 0, 0)
					}):Play();
					for v33 = 2, 5 do
						local v34 = game.ReplicatedStorage.KillFX["Ice Phoenix"].Shard:Clone();
						v34.Parent = v9;
						local v35 = math.random(-25, 25);
						v34.CFrame = v9.Mesh.Control.TransformedWorldCFrame * CFrame.new(math.random(-12, 12), v35, v35) * CFrame.Angles(math.rad((math.random(-25, 25))), math.rad((math.random(-25, 25))), (math.rad((math.random(-25, 25)))));
						v34.Sound:Play();
						local v36, v37, v38 = workspace:FindPartOnRayWithIgnoreList(Ray.new(v34.CFrame.Position, v34.CFrame.UpVector * 360), { workspace.Ignored, workspace.Players });
						local v39 = game.TweenService:Create(v34, TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
							Transparency = 0, 
							Size = v34.Size + Vector3.new(2, 3, 2), 
							Position = v37
						});
						v39:Play();
						task.delay(0, function()
							v39.Completed:Wait();
							if (p3.Character.PrimaryPart.Position - v37).Magnitude < 25 and p3.Name ~= p4.Name then
								local v40 = Instance.new("StringValue", p3.Character);
								v40.Name = "Block_DEBUG";
								game.Debris:AddItem(v40, 2);
							end;
							v34.Transparency = 1;
							for v41, v42 in pairs(v34.EXP:GetChildren()) do
								v42.Enabled = true;
							end;
							task.wait(0.25);
							v34.AR:Play();
							game.Debris:AddItem(v34, 1.7);
							for v43, v44 in pairs(v34.EXP:GetChildren()) do
								v44.Enabled = false;
							end;
						end);
					end;
					u5:Disconnect();
				end);
			end);
			u3 = game["Run Service"].Heartbeat:Connect(function()
				if v9.Parent ~= nil then
					v19.WorldPosition = v9.Mesh.Control.Neck2["L. Wing1"]["L. Wing2"]["L. Wing3"]["L. Wing4"]["L. Wing5"]["L. Wing6"].TransformedWorldCFrame.Position;
					v21.WorldPosition = v9.Mesh.Control.Neck2["R. Wing1"]["R. Wing2"]["R. Wing3"]["R. Wing4"]["R. Wing5"]["R. Wing6"].TransformedWorldCFrame.Position;
					v25.WorldPosition = (v9.Mesh.Control.Neck2["L. Wing1"]["L. Wing2"]["L. Wing3"]["L. Wing4"]["L. Wing5"]["L. Wing6"].TransformedWorldCFrame * CFrame.new(0, 15, 0)).Position;
					v26.WorldPosition = (v9.Mesh.Control.Neck2["R. Wing1"]["R. Wing2"]["R. Wing3"]["R. Wing4"]["R. Wing5"]["R. Wing6"].TransformedWorldCFrame * CFrame.new(0, 15, 0)).Position;
					v9.Mesh.EXPO.WorldPosition = v9.Mesh.Control.TransformedWorldCFrame.Position;
				end;
			end);
		end);
	end;
	return nil;
end;
return v1;
